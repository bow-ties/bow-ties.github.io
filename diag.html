<!doctype html>
<html>

<head>
<link href="https://fonts.googleapis.com/css?family=Comfortaa" rel="stylesheet">
<script src="https://d3js.org/d3.v5.min.js"></script>
</head>

<style>
body {
	font-family: 'Comfortaa';
}
.canvas{
	background-color: #f2f2f2;
}
.tooltip {
    position: absolute;
    text-align: center;
    border-radius: 15px;
	padding: 5px;
	pointer-events: none;  /* Make sure hovering on tooltip doesn't close it*/
}

</style>

<body>

<svg class="canvas"></svg>

<script>

var dwidth = 600;
var dheight = 400;
var pd = 10;

var div = d3.select("body").append("div")	
    .attr("class", "tooltip")				
    .style("opacity", 0);
var canv = d3.select(".canvas");
canv.attr("width", dwidth).attr( "height",dheight);

var sposx = d3.scaleLinear().domain([-1,1]).range([0+pd,dwidth-pd]);
var sposy = d3.scaleLinear().domain([-1,1]).range([0+pd,dheight-pd]);
var scols = d3.scaleLinear().domain([0,0.25,0.5,0.75,1]).range([d3.rgb(250,0,0),d3.rgb(0,0,250),d3.rgb(0,150,0),d3.rgb(200,200,0),d3.rgb(220,0,0)]);

var projs = [
	{"x": -0.09,"y": -0.4,"name": "Annhilation"},
	{"x": -0.05,"y": -0.1,"name": "Splatterbot"},
	{"x": 0.4,"y": 0.6,"name": "SNARP"},
	{"x": 0.29,"y": 0.15,"name": "L1 Rocket"},
	{"x": 0.05,"y": 0.1,"name": "Light Flower"},
	{"x": -0.2,"y": 0.2,"name": "Ugly Sweaters"},
	{"x": -0.3,"y": -0.5,"name": "Borderline Painting"},
	{"x": -0.43,"y": -0.35,"name": "Window Painting"},
	{"x": -0.42,"y": 0.2,"name": "Mantis Shrimp"},
	{"x": -0.53,"y": 0.15,"name": "La Mante Sur Le Mont"},
	{"x": -0.48,"y": -0.02,"name": "Seahorse Batik"},
	{"x": -0.23,"y": 0.1,"name": "Gingerbread Houses"},
	{"x": -0.15,"y": -0.2,"name": "Life Fountain"},
	{"x": -0.25,"y": -0.15,"name": "Spectring"},
	{"x": -0.5,"y": -0.6,"name": "Unbound Mural"},
	{"x": -0.6,"y": -0.3,"name": "Borderline Animation"},
	{"x": 0.4,"y": -0.5,"name": "Cereal Research"},
	{"x": -0.55,"y": 0.35,"name": "Charcuterie Boards"},
	{"x": -0.1,"y": -0.02,"name": "Brandeised"},
	{"x": -0.12,"y": -0.64,"name": "My Name's Not Matt"},
	{"x": 0.5,"y": -0.64,"name": "Chemistry Magic Shows"},
	{"x": 0.6,"y": -0.43,"name": "Atomic Physics Splash Courses"},
	{"x": 0.52,"y": 0.5,"name": "Rocket Team Outreach"},
	{"x": 0.42,"y": 0.3,"name": "Kalman Filter Model"},
	{"x": 0.62,"y": 0.1,"name": "Dispersion Analysis Program"},
	{"x": 0,"y": 0.3,"name": "Maker Mentoring"},
	
];

/*
for (i = -10; i < 10; i++) {
for (j = -10; j < 10; j++) {
	projs.push({"x": i/10,"y": j/10});
}
}*/

var arcGenerator = d3.arc().innerRadius(105).outerRadius(110).cornerRadius(5).padAngle(.07);
var arcs = [
{startAngle: 0,  endAngle: 0.5 * Math.PI, item: "Science"},
{startAngle: 0.5 * Math.PI,  endAngle: 1 * Math.PI, item: "Engineering"},
{startAngle: 1 * Math.PI,  endAngle: 1.5 * Math.PI, item: "Design"},
{startAngle: 1.5 * Math.PI,  endAngle: 2 * Math.PI, item: "Art"}];

canv.selectAll('path')
	.data(arcs)
	.enter()
	.append('path')
	.attr('d', arcGenerator)
	.style("fill", function(d) {
	var ang = (d.startAngle+d.endAngle)/(4*Math.PI)+0.125;
		return scols(ang); 
		})
	.attr("transform", "translate("+dwidth/2+","+dheight/2+")")



var circs = canv.selectAll("circle").data(projs);

circs.enter().append("circle")
    .attr("cx", function(d) { return sposx(d.x); })
    .attr("cy", function(d) { return sposy(d.y); })
    .attr("r", 10)
	.style("fill", function(d) {
		var ang = Math.atan2(d.y,d.x)/(2*Math.PI)+0.5-0.125;
		if (ang<0) {ang=ang+1;}
		d.col = scols(ang);
		return scols(ang); 
	})
	.on("mouseover", function(d) {		
            div.transition()		
                .duration(200)
				.style("opacity", .9)
                .style("background-color", d.col);		
            div	.html(d.name)	
                .style("left", (d3.event.pageX) + "px")
                .style("top", (d3.event.pageY - 25) + "px");
            })
	.on("mouseout", function(d) {
		div.transition()
			.duration(200)
			.style("opacity", 0);
	});
	

canv.selectAll('text')
	.data(arcs)
	.enter()
	.append("text")
	.attr("x", function(d) { return dwidth/2+200*Math.cos(d.startAngle-Math.PI/4); })
	.attr("y", function(d) { return dheight/2+200*Math.sin(d.startAngle-Math.PI/4); })
	.text( function (d) { return d.item; })
	.attr("font-size", "20pt")
	.style("text-anchor", "middle")
	.style("alignment-baseline", "middle")
	.style("fill", function(d) {
	var ang = (d.startAngle+d.endAngle)/(4*Math.PI)+0.125;
		return scols(ang); 
	});
</script>

</body>

</html>